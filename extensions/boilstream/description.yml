extension:
  name: boilstream
  description: Secure remote secrets storage with OPAQUE PAKE authentication, encrypted secrets, and automatic ducklake mounting
  version: 0.3.5
  language: C++, Rust
  build: cmake
  license: MIT
  maintainers:
    - dforsber
  requires_toolchains: rust

repo:
  github: dforsber/boilstream-extension
  ref: 5a0fafa707a6be3e76bf46960549ad2a796421cb

docs:
  hello_world: |
    -- Setup: Install and authenticate with boilstream server
    INSTALL httpfs; LOAD httpfs;
    INSTALL boilstream FROM community;
    LOAD boilstream;

    -- Authenticate with one-time bootstrap token (auto-attaches ducklakes)
    PRAGMA duckdb_secrets_boilstream_endpoint('https://localhost/secrets:TOKEN');
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚         status         â”‚     expires_at      â”‚ ducklakes_attached â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ Session token obtained â”‚ 2025-11-19 23:30:00 â”‚                  2 â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    -- List all available ducklakes
    FROM boilstream_ducklakes();
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ catalog_id   â”‚ catalog_name â”‚   description   â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ 5a805647-... â”‚ my_analytics â”‚ Sales analytics â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    -- List all cached secrets with expiration
    FROM boilstream_secrets();
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚        name         â”‚   type   â”‚     expires_at      â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ my_analytics        â”‚ ducklake â”‚ 2026-11-19 20:00:00 â”‚
    â”‚ my_analytics_s3     â”‚ s3       â”‚ 2026-11-19 20:00:00 â”‚
    â”‚ my_analytics_pg     â”‚ postgres â”‚ 2026-11-19 20:00:00 â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    -- Create new ducklake
    PRAGMA boilstream_create_ducklake('new_catalog', 'My new ducklake');

    -- Query ducklake (automatically attached)
    USE my_analytics;
    SHOW TABLES;

  extended_description: |
    Boilstream extension provides enterprise-grade remote secrets storage for multi-tenant DuckDB deployments.

    **Features:**
    - ğŸ” **OPAQUE PAKE Authentication** - Password-less authentication (IETF RFC 9807)
    - ğŸ”’ **End-to-end Encryption** - AES-256-GCM/ChaCha20-Poly1305 for secrets and responses
    - ğŸ”‘ **Cryptographic Key Derivation** - HKDF-SHA256 with domain separation
    - ğŸ›¡ï¸ **Defense in Depth** - HMAC verification before AEAD decryption
    - ğŸ¯ **Session Protection** - Lock-step sequence protocol prevents hijacking
    - ğŸ—„ï¸ **Ducklake Support** - Auto-attach multi-tenant data catalogs
    - ğŸŒ **SSO Integration** - Bootstrap token exchange for web environments

    **Security:**
    - Facebook's audited OPAQUE implementation (Rust + C++ FFI)
    - Protects against MITM attacks even if TLS is compromised
    - One-time bootstrap tokens with anonymous authentication
    - Session resumption with encrypted refresh tokens
    - Comprehensive test vectors and security specification

    **API Functions:**
    - `PRAGMA duckdb_secrets_boilstream_endpoint(url)` - Authenticate and auto-attach ducklakes
    - `boilstream_ducklakes()` - List available ducklakes
    - `boilstream_secrets()` - List cached secrets with expiration
    - `PRAGMA boilstream_create_ducklake(name, description)` - Create new ducklake

    **Requirements:**
    - httpfs extension (auto-loaded)
    - postgres_scanner extension (auto-loaded)
    - ducklake extension (auto-loaded)
    - Compatible REST API server (see [API specification](https://github.com/dforsber/boilstream-extension/blob/main/src/README.md))

    For detailed documentation, security specification, and setup instructions, visit the [extension repository](https://github.com/dforsber/boilstream-extension).
