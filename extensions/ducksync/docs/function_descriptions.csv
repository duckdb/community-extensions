function,description,comment,example
ducksync_init,"Initialize DuckSync with an existing DuckLake catalog. Use when you already have DuckLake attached.","Recommended for existing DuckLake users. Optional second arg schema_name (default 'ducksync') for multi-tenant environments.","SELECT * FROM ducksync_init('my_lake');"
ducksync_init,"Initialize DuckSync with an existing DuckLake catalog and a custom metadata schema name.","Use a custom schema_name to isolate DuckSync metadata in shared DuckLake environments (e.g. GizmoSQL).","SELECT * FROM ducksync_init('my_lake', 'my_ducksync_schema');"
ducksync_setup_storage,"Full setup — attaches DuckLake with a PostgreSQL catalog and initializes DuckSync.","Use when you don't have DuckLake configured yet. Optional third arg schema_name (default 'ducksync').","SELECT * FROM ducksync_setup_storage('host=localhost dbname=ducklake user=postgres', '/data/ducksync');"
ducksync_setup_storage,"Full setup with a custom metadata schema name for multi-tenant environments.","Data tables always live in catalog.source_name.cache_name regardless of schema_name.","SELECT * FROM ducksync_setup_storage('host=localhost dbname=ducklake user=postgres', '/data/ducksync', 'my_schema');"
ducksync_add_source,"Register a Snowflake data source using an existing DuckDB secret.","Currently supports Snowflake. Optional passthrough_enabled=true to allow direct Snowflake passthrough.","SELECT * FROM ducksync_add_source('prod', 'snowflake', 'my_snowflake_secret');"
ducksync_create_cache,"Define a cached query result with a source query, monitor tables for smart refresh, and optional TTL in seconds.","monitor_tables are checked for last_altered changes to determine if refresh is needed. TTL=0 means no expiry.","SELECT * FROM ducksync_create_cache('customers', 'prod', 'SELECT * FROM PROD.PUBLIC.CUSTOMERS', ['PROD.PUBLIC.CUSTOMERS'], 3600);"
ducksync_refresh,"Refresh a cache by fetching from Snowflake and storing in DuckLake. Skips if source data unchanged (smart refresh).","Returns result=REFRESHED, SKIPPED, or ERROR with rows_refreshed and duration_ms. Use force=true to bypass smart check.","SELECT * FROM ducksync_refresh('customers');"
ducksync_query,"Smart query routing — rewrites SQL to use cached DuckLake tables when all referenced tables are cached; passes through to Snowflake otherwise. Returns actual query results.","Main query interface. Automatically refreshes expired caches before executing. Supports SELECT with JOINs, UNIONs, subqueries.","SELECT * FROM ducksync_query('SELECT * FROM PROD.PUBLIC.CUSTOMERS WHERE region = ''US''', 'prod');"
